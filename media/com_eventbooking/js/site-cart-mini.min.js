!function(c,o){closeCartPopup=function(){o.colorbox.close()},checkOut=function(e){c.location.href=e},updateCart=function(e){if(checkQuantity()){var t=[],a=[];c.querySelectorAll('input[name="event_id[]"]').forEach(function(e){t.push(e.value)}),c.querySelectorAll('input[name="quantity[]"]').forEach(function(e){a.push(e.value)});var n=t.join(","),r=a.join(",");o.ajax({type:"POST",url:EBBaseAjaxUrl+"&task=cart.update_cart&Itemid="+e+"&redirect=0&event_id="+n+"&quantity="+r,dataType:"html",beforeSend:function(){o("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(e){o("#cboxLoadedContent").html(e),o(".wait").remove(),c.dispatchEvent(new CustomEvent("onEBAfterCartChange",{detail:{}}))},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})}},removeCart=function(e,t){o.ajax({type:"POST",url:EBBaseAjaxUrl+"&task=cart.remove_cart&id="+e+"&Itemid="+t+"&redirect=0",dataType:"html",beforeSend:function(){o("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(e){o("#cboxLoadedContent").html(e),jQuery.colorbox.resize(),o(".wait").remove(),c.dispatchEvent(new CustomEvent("onEBAfterCartChange",{detail:{}}))},error:function(e,t,a){alert(a+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},checkQuantity=function(){var e,t,a,n,r=[],o=[],i=c.querySelectorAll('input[name="quantity[]"]');c.querySelectorAll('input[name="event_id[]"]').forEach(function(e){r.push(e.value)}),i.forEach(function(e){o.push(e.value)});for(var u=0;u<r.length;u++)e=parseInt(r[u],10),t=o[u],-1!==(a=arrEventIds.indexOf(e))&&-1!=(n=arrQuantities[a])&&n<t&&(alert(EB_INVALID_QUANTITY+n),i[u].value=n,i[u].focus());return!0},c.dispatchEvent(new CustomEvent("onEBAfterCartChange",{detail:{}}))}(document,Eb.jQuery);