!function(t,r){t.addEventListener("DOMContentLoaded",function(){paypal.Buttons({style:{layout:r.getOptions("pp_stc_buttons_layout","vertical"),color:r.getOptions("pp_stc_buttons_color","gold"),shape:r.getOptions("pp_stc_buttons_shape","rect")},createOrder:function(t,e){return e.order.create(r.getOptions("orderData"))},onApprove:function(t,o){return fetch(r.getOptions("fullSiteUrl")+"index.php?option=com_eventbooking&task=payment_confirm&payment_method=os_paypalstc&order_id="+t.orderID+"&registration_code="+r.getOptions("registrationCode")+"&Itemid="+r.getOptions("Itemid"),{method:"post"}).then(function(t){return t.json()}).then(function(t){if(!t.redirectUrl){var e=Array.isArray(t.details)&&t.details[0];return e&&"INSTRUMENT_DECLINED"===e.issue?o.restart():void 0}o.redirect(t.redirectUrl)})}}).render("#paypal-button-container")})}(document,Joomla);