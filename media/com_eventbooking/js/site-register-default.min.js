!function(l,s){s(l).ready(function(){var t=s("#email");if(s("#eb-login-form").validationEngine(),t.val()&&t.validationEngine("validate"),Joomla.getOptions("hidePaymentInformation")&&s(".payment_information").css("display","none"),createStripeCardElement(null),Joomla.getOptions("squareAppId")&&createSquareCardElement(),buildStateFields("state","country",Joomla.getOptions("selectedState")),Joomla.getOptions("isCountryBaseTax")&&s("#country").change(calculateIndividualRegistrationFee),Joomla.getOptions("isEUTaxRuleEnabled")){var e=Joomla.getOptions("euVatNumberField"),a=s("#"+e),i=Joomla.getOptions("showVatNumberField");a.after('<span class="invalid" id="vatnumber_validate_msg" style="display: none;">'+Joomla.JText._("EB_INVALID_VATNUMBER")+"</span></div>"),a.change(calculateIndividualRegistrationFee),i?s("#field_"+e).show():s("#field_"+e).hide()}s("#adminForm").validationEngine("attach",{onValidationComplete:individualRegistrationValidationComplete}),EBMaskInputs(l.getElementById("adminForm")),initializeTermsAndConditionsModal(),l.dispatchEvent(new CustomEvent("onEBAfterRegistrationFormLoaded",{detail:{registrationType:"individualRegistration"}}))}),individualRegistrationValidationComplete=function(t,e){if(!0!==e)return!1;if(t.on("submit",function(t){t.preventDefault()}),Joomla.getOptions("hasTicketTypes")){var a="",i="",n=0;s("select.ticket_type_quantity").each(function(){i=s(this).attr("name"),0<(n=s(this).val())&&(a=a+i+":"+n+",")}),0<a.length&&(a=a.substring(0,a.length-1)),s("#ticket_type_values").val(a)}return t.find("#btn-submit").prop("disabled",!0),paymentMethodCallbackHandle()},calculateIndividualRegistrationFee=function(e){var a=s("#btn-submit"),i=s("#ajax-loading-animation"),n=s("#total_amount"),o=s("#amount");a.attr("disabled","disabled"),i.show();var m=Joomla.getOptions("euVatNumberField"),t='select.ticket_type_quantity, #adminForm input[name="event_id"], #adminForm input[name="coupon_code"], #adminForm .payment-calculation input[type="text"], #adminForm .payment-calculation input[type="number"], #adminForm .payment-calculation input[type="checkbox"]:checked, #adminForm .payment-calculation input[type="radio"]:checked, #adminForm .payment-calculation select, #adminForm input.eb-hidden-field:hidden, #adminForm select[name="country"], #adminForm select[name="state"]';l.getElementById("tickets_members_information")&&(t+=', #tickets_members_information input[type="text"], #tickets_members_information input[type="text"], #tickets_members_information input[type="url"], #tickets_members_information input[type="email"] ,#tickets_members_information input[type="hidden"], #tickets_members_information  input[type="number"], #tickets_members_information input[type="checkbox"]:checked, #tickets_members_information input[type="radio"]:checked, #tickets_members_information select, #tickets_members_information textarea'),m&&(t=t+', #adminForm input[name="'+m+'"]');var d=Joomla.getOptions("calculateIndividualRegistrationFeeUrl");s("input:radio[name^=payment_method]").length?t+=", input:radio[name^=payment_method]:checked":t+=", input[name^=payment_method]",s.ajax({type:"POST",url:d,data:s(t),dataType:"json",success:function(t){a.removeAttr("disabled"),i.hide(),o.val(t.amount),n.val(t.total_amount),s("#discount_amount").val(t.discount_amount),s("#tax_amount").val(t.tax_amount),s("#payment_processing_fee").val(t.payment_processing_fee),s("#deposit_amount").val(t.deposit_amount),(o.length||n.length)&&0==t.payment_amount?s(".payment_information").css("display","none"):(s(".payment_information:not(.eb-credit-card-input)").css("display",""),updatePaymentMethod()),1==t.coupon_valid?s("#coupon_validate_msg").hide():(a.attr("disabled","disabled"),s("#coupon_validate_msg").show()),1==s("#payment_type").val()?s("#deposit_amount_container").show():s("#deposit_amount_container").hide(),void 0!==e&&s("#tickets_members_information").html(t.tickets_members),m&&(1===t.show_vat_number_field?s("#field_"+m).show():s("#field_"+m).hide(),1===t.vat_number_valid?s("#vatnumber_validate_msg").hide():s("#vatnumber_validate_msg").show())},error:function(t,e){alert(e)}})}}(document,Eb.jQuery);