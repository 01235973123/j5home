!function(o,i){i(o).ready(function(){if(i("#adminForm").validationEngine("attach",{onValidationComplete:function(e,t){return!0===t&&(e.on("submit",function(e){e.preventDefault()}),e.find("#btn-submit").prop("disabled",!0),paymentMethodCallbackHandle())}}),buildStateFields("state","country",Joomla.getOptions("selectedState")),"undefined"!=typeof stripe){elements.create("card",{style:{base:{fontSize:"16px",color:"#32325d"}}}).mount("#stripe-card-element")}Joomla.getOptions("squareAppId")&&createSquareCardElement(),o.dispatchEvent(new CustomEvent("onEBAfterRegistrationFormLoaded",{detail:{registrationType:"registrationPayment"}}))}),calculateRegistrationFee=function(){if(updatePaymentMethod(),1==o.adminForm.show_payment_fee.value){var e,t=i("#registrant_id").val(),a=i("#btn-submit"),n=i("#ajax-loading-animation");a.attr("disabled","disabled"),n.show(),e=i("input:radio[name^=payment_method]").length?i("input:radio[name^=payment_method]:checked").val():i("input[name^=payment_method]").val(),i.ajax({type:"GET",url:siteUrl+"index.php?option=com_eventbooking&task=register.calculate_registration_fee&payment_method="+e+"&registrant_id="+t,dataType:"json",success:function(e){a.removeAttr("disabled"),n.hide(),i("#amount").length&&i("#total_amount").val(e.amount),i("#payment_processing_fee").val(e.payment_processing_fee),i("#gross_amount").val(e.gross_amount)},error:function(e,t){alert(t)}})}},calculateRemainderFee=function(){if(updatePaymentMethod(),1==o.adminForm.show_payment_fee.value){var e,t=i("#registrant_id").val(),a=i("#btn-submit"),n=i("#ajax-loading-animation");a.attr("disabled","disabled"),n.show(),e=i("input:radio[name^=payment_method]").length?i("input:radio[name^=payment_method]:checked").val():i("input[name^=payment_method]").val(),i.ajax({type:"GET",url:siteUrl+"index.php?option=com_eventbooking&task=register.calculate_remainder_fee&payment_method="+e+"&registrant_id="+t,dataType:"json",success:function(e){a.removeAttr("disabled"),n.hide(),i("#amount").length&&i("#total_amount").val(e.amount),i("#payment_processing_fee").val(e.payment_processing_fee),i("#gross_amount").val(e.gross_amount)},error:function(e,t){alert(t)}})}}}(document,Eb.jQuery);