"use strict";!function(e,i){e.addEventListener("DOMContentLoaded",function(){var s=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["escape"],closeLabel:"Close"});s.addFooterBtn("Close",i.getOptions("btnClass","tingle-btn")+" "+i.getOptions("btnPrimaryClass","tingle-btn--primary"),function(){s.close()});var e=new Html5QrcodeScanner("reader",{fps:1},!1),n=window.sessionStorage,o=i.getOptions("checkInInterval",15e3);e.render(function(e,t){if(null!==n.getItem(e)){if(Date.now()-n.getItem(e)<o)return}n.setItem(e,Date.now()),i.request({url:i.getOptions("checkinUrl")+"&value="+e+"&t="+Date.now(),method:"GET",perform:!0,onSuccess:function(e){var t=JSON.parse(e),n="";n=t.success?(s.setContent('<div class="'+i.getOptions("textSuccessClass")+'">'+t.message+"</div>"),i.getOptions("successAudioUrl")):(s.setContent('<div class="'+i.getOptions("textWarningClass")+'">'+t.message+"</div>"),i.getOptions("failAudioUrl")),s.open(),n&&new Audio(n).play()},onError:function(e){alert(e)}})},function(e){})})}(document,Joomla);