!function(l,d){d.submitbutton=function(e){var t=l.adminForm;if("export"===e&&l.getElementById("subscriptionsExportForm")){var n,o,r=["filter_category_id","filter_search","filter_date_field","filter_from_date","filter_to_date","subscription_type","published"];for(i=0;i<r.length;i++)n=r[i],(o=l.getElementById(n))&&(l.getElementById("export_"+n).value=o.value);l.getElementById("export_filter_plan_id").value=l.getElementById("plan_id").value;var a=[];return l.querySelectorAll('input[name="cid[]"]:checked').forEach(function(e){a.push(e.value)}),l.getElementById("export_cid").value=a.join(","),void d.submitform(e,l.getElementById("subscriptionsExportForm"))}if("add"===e&&d.getOptions("force_select_plan")&&"0"===t.plan_id.value)return alert(d.JText._("OSM_SELECT_PLAN_TO_ADD_SUBSCRIPTION")),void t.plan_id.focus();d.submitform(e)},l.addEventListener("DOMContentLoaded",function(){var i=l.getElementById("mm_template_id");i&&i.addEventListener("change",function(){var e=d.getOptions("siteUrl"),t=i.value;0<t&&d.request({url:e+"/index.php?option=com_osmembership&task=mmtemplate.getMMTempalteMessage&id="+t,method:"POST",onSuccess:function(e){d.editors.instances.message.setValue(e)},onError:function(e){alert(e.statusText)}})})})}(document,Joomla);