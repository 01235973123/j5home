!function(a){showHideDependFields=function(e){a("#btn-submit").attr("disabled","disabled"),a("#ajax-loading-animation").show(),a.ajax({type:"POST",url:siteUrl+"index.php?option=com_osmembership&task=register.get_depend_fields_status&field_id="+e+langLinkForAjax,data:a(".master-field input[type='checkbox']:checked, .master-field input[type='radio']:checked, .master-field select"),dataType:"json",success:function(e){a("#btn-submit").removeAttr("disabled"),a("#ajax-loading-animation").hide();var t,i=[],n=[];for(e.hide_fields&&(i=e.hide_fields.split(",")),e.show_fields&&(n=e.show_fields.split(",")),t=0;t<i.length;t++)a("#"+i[t]).hide();for(t=0;t<n.length;t++)a("#"+n[t]).show()},error:function(e,t){alert(t)}})},populateSubscriberData=function(){var e,t=a("#user_id_id").val(),i=a("#plan_id").val();a("#username_container").hide(),a("#password_container").hide(),e="undefined"!=typeof Joomla&&Joomla.getOptions("MPBaseUrl")?Joomla.getOptions("MPBaseUrl")+"/index.php?option=com_osmembership&task=get_profile_data&user_id="+t+"&plan_id="+i:"undefined"!=typeof siteUrl?siteUrl+"index.php?option=com_osmembership&task=get_profile_data&user_id="+t+"&plan_id="+i:"index.php?option=com_osmembership&task=get_profile_data&user_id="+t+"&plan_id="+i,a.ajax({type:"GET",url:e,dataType:"json",success:function(e){var t=[];for(var i in e)value=e[i],a("input[name='"+i+"[]']").length?(a.isArray(value)?t=value:t.push(value),a("input[name='"+i+"[]']").val(t)):a("input[type='radio'][name='"+i+"']").length?a("input[name="+i+"][value='"+value+"']").attr("checked","checked"):a("#"+i).val(value)}})},buildStateField=function(t,e,i){if(a("#"+t).length&&a("#"+t).is("select")){if(a("#"+e).length)var n=a("#"+e).val();else n="";a.ajax({type:"GET",url:siteUrl+"index.php?option=com_osmembership&task=register.get_states&country_name="+n+"&field_name="+t+"&state_name="+i+langLinkForAjax,success:function(e){a("#field_"+t+" .controls").length?a("#field_"+t+" .controls").html(e):a("#field_"+t+" .col-md-9").length?a("#field_"+t+" .col-md-9").html(e):a("#field_"+t+" .uk-form-controls").html(e)},error:function(e,t){alert(t)}}),a("#"+e).length&&a("#"+e).change(function(){a.ajax({type:"GET",url:siteUrl+"index.php?option=com_osmembership&task=register.get_states&country_name="+a(this).val()+"&field_name="+t+"&state_name="+i+langLinkForAjax,success:function(e){a("#field_"+t+" .controls").length?a("#field_"+t+" .controls").html(e):a("#field_"+t+" .col-md-9").length?a("#field_"+t+" .col-md-9").html(e):a("#field_"+t+" .uk-form-controls").html(e)},error:function(e,t){alert(t)}})})}},buildStateFields=function(t,e,i){var n=a("#"+e),l=a("#"+t);l.length&&l.is("select")&&n.length&&n.change(function(){a.ajax({type:"GET",url:siteUrl+"index.php?option=com_osmembership&task=register.get_states&country_name="+a(this).val()+"&field_name="+t+"&state_name="+i+langLinkForAjax,success:function(e){a("#field_"+t+" .controls").length?a("#field_"+t+" .controls").html(e):a("#field_"+t+" .col-md-9").length?a("#field_"+t+" .col-md-9").html(e):a("#field_"+t+" .uk-form-controls").html(e)},error:function(e,t){alert(t)}})})},OSMMaskInputs=function(e){e.querySelectorAll("input[data-input-mask]").forEach(function(e){var t=e.dataset.inputMask;"/"===t.slice(0,1)&&"/"===t.slice(-1)&&(t=(t=t.slice(1)).slice(0,-1),t=new RegExp(t));IMask(e,{mask:t})})}}(jQuery);