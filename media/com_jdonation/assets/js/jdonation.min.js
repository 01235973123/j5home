function PaymentMethod(e,t,n,r,i,s){this.name=e;this.creditCard=t;this.cardType=n;this.cardCvv=r;this.cardHolderName=i;this.enableRecurring=s}function PaymentMethods(){this.length=0;this.methods=new Array}PaymentMethod.prototype.getName=function(){return this.name};PaymentMethod.prototype.getCreditCard=function(){return this.creditCard};PaymentMethod.prototype.getCardType=function(){return this.cardType};PaymentMethod.prototype.getCardCvv=function(){return this.cardCvv};PaymentMethod.prototype.getCardHolderName=function(){return this.cardHolderName};PaymentMethod.prototype.getEnableRecurring=function(){return this.enableRecurring};PaymentMethods.prototype.Add=function(e){this.methods[this.length]=e;this.length=this.length+1};PaymentMethods.prototype.Find=function(e){for(var t=0;t<this.length;t++){if(this.methods[t].name==e){return this.methods[t]}}return null};JD.jQuery(function(e){JDVALIDATEFORM=function(t){e(t).validationEngine("attach",{onValidationComplete:function(e,t){if(t==true){e.on("submit",function(e){e.preventDefault()});return true}return false}})};clearTextbox=function(){e("[name*='amount']").removeClass("validate[required]");e("[name*='rd_amount']").addClass("validate[required]");if(e("[name*='amount']").val()){e("[name*='amount']").val("")}};changeDonationType=function(){var t=e("input[name='donation_type']:checked").val();if(t=="recurring"){e("#tr_frequency").slideDown();e("#tr_number_donations").slideDown()}else{e("#tr_frequency").slideUp();e("#tr_number_donations").slideUp()}};changePaymentMethod=function(){var t=e("input[name='payment_method']:checked").val();method=methods.Find(t);if(method.getCreditCard()){e("#tr_card_number").slideDown();e("#tr_exp_date").slideDown();e("#tr_cvv_code").slideDown();if(method.getCardType()){e("#tr_card_type").slideDown()}else{e("#tr_card_type").slideUp()}if(method.getCardHolderName()){e("#tr_card_holder_name").slideDown()}else{e("#tr_card_holder_name").slideUp()}}else{e("#tr_card_number").slideUp();e("#tr_exp_date").slideUp();e("#tr_cvv_code").slideUp();e("#tr_card_type").slideUp();e("#tr_card_holder_name").slideUp()}if(t=="os_echeck"){e("#tr_bank_rounting_number").slideDown();e("#tr_bank_account_number").slideDown();e("#tr_bank_account_type").slideDown();e("#tr_bank_name").slideDown();e("#tr_bank_account_holder").slideDown()}else{if(e("#tr_bank_rounting_number").length){e("#tr_bank_rounting_number").slideUp();e("#tr_bank_account_number").slideUp();e("#tr_bank_account_type").slideUp();e("#tr_bank_name").slideUp();e("#tr_bank_account_holder").slideUp()}}if(t=="os_ideal"){e("#tr_bank_list").slideDown()}else{e("#tr_bank_list").slideUp()}displayRecurringOptions()};processChangeCampaign=function(){var t=e("#campaign_id").val();if(e("[name*='field_campaign']").val()){if(e("[name*='current_campaign']").val()>0){e(".campaign_"+currentCampaign).slideUp()}e(".campaign_"+t).slideDown()}if(e("[name*='amount_by_campaign']").val()){if(t){e("#amount_container").html(e("#campaign_"+t).html())}}displayRecurringOptions();currentCampaign=t};deSelectRadio=function(){e("[name*='amount']").addClass("validate[required]");e("[name*='rd_amount']").removeClass("validate[required]");var t=document.os_form;t.amount.value=t.amount.value.replace(",","");if(parseFloat(t.amount.value)){if(t.rd_amount){if(e("[name*='amounts_format']").val()==1){if(t.rd_amount.length){for(var n=0;n<t.rd_amount.length;n++){t.rd_amount[n].checked=false}}else{t.rd_amount.checked=false}}else{t.rd_amount.selectedIndex=0}}}else{t.amount.value=""}};displayRecurringOptions=function(){if(e("[name*='enable_recurring']").val()){var t=e("#campaign_id").val();var n="";var r=1;if(e("[name*='count_method']").val()>1){n=e("input[name='payment_method']:checked").val()}else{n=document.os_form.payment_method.value}if(t>0){r=recurrings[t]}method=method=methods.Find(n);if(r&&method.getEnableRecurring()){e("#donation_type").slideDown();var i=e("input[name='donation_type']:checked").val();if(i=="recurring"){e("#tr_frequency").slideDown();e("#tr_number_donations").slideDown()}}else{e("#donation_type").slideUp();e("#tr_frequency").slideUp();e("#tr_number_donations").slideUp();e('input[name="donation_type"][value="onetime"]').prop("checked",true)}}};buildStateField=function(t,n,r){if(e("#"+t).length){if(e("#"+n).length){var i=e("#"+n).val()}else{var i=""}e.ajax({type:"POST",url:siteUrl+"index.php?option=com_jdonation&task=get_states&country_name="+i+"&field_name="+t+"&state_name="+r,success:function(n){e("#field_"+t+" .controls").html(n)},error:function(e,t,n){alert(t)}});if(e("#"+n).length){e("#"+n).change(function(){e("#field_"+t+" .controls select").after('<span class="wait">&nbsp;<img src="components/com_jdonation/assets/images/loading.gif" alt="" /></span>');e.ajax({type:"POST",url:siteUrl+"index.php?option=com_jdonation&task=get_states&country_name="+e(this).val()+"&field_name="+t+"&state_name="+r,success:function(n){e("#field_"+t+" .controls").html(n);e(".wait").remove()},error:function(e,t,n){alert(t)}})})}}}})